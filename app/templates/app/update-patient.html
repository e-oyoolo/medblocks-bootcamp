{% extends 'app/base.html' %}
{% load static %}
{% block content %}
  <div class="content p-4">
  <h2>Update Patient</h2>
  {% if messages %}
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }} alert-dismissible fade show" role="alert">
        {{ message }}
        <button type="button" class="close" data-dismiss="alert" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
    {% endfor %}
  {% endif %}  
  <form class="p-4" method="POST" action="{% url 'app:update-patient' patient.ID %}">
    {% csrf_token %}
    <div class="mb-3">
      <div class="row">
        <div class="col-lg-6">
          <label for="id_given_name" class="form-label">First Name</label>
          <input type="text" class="form-control" name="given_name" id="id_given_name" value="{{ patient.FirstName }}" required>      
        </div>
        <div class="col-lg-6">
          <label for="id_family_name" class="form-label">Last Name</label>
          <input type="text" class="form-control" name="family_name" id="id_family_name" value="{{ patient.LastName }}" required>      
        </div>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <label for="id_gender" class="form-label">Gender</label>
          <select name="gender" class="form-control" name="gender" id="id_gender" required>
            {% for gender in gender_choices %}
              <option value="{{ gender }}" {% if gender == selected_gender %}selected{% endif %}>
                {{ gender|capfirst }}
              </option>
            {% endfor %}
          </select>          
        </div>
      </div>
      <div class="row">
        <div class="col-lg-6">
          <label for="id_phone" class="form-label">Phone Number</label>
          <input type="phone" name="phone" class="form-control" id="id_phone" value="{{ patient.PhoneNumber }}" required>      
        </div>
        <div class="col-lg-6">
          <label for="id_date_of_birth" class="form-label">Date of Birth</label>
          <div class="input-group">
            <!-- <span class="input-group-text"><i class="bi bi-calendar"></i></span> -->
            <input type="date" class="form-control" id="id_date_of_birth" value="{{ patient.DateOfBirth }}" name="date_of_birth" required>
          </div>  
        </div>
      </div>
    </div>
    <button type="submit" class="btn btn-primary">Submit</button>
  </form>
{% endblock %}